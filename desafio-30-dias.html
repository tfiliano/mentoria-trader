<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Desafio 30 Dias - Trader Disciplinado</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --bg-primary: #0a0a0a;
            --bg-secondary: #1a1a1a;
            --bg-tertiary: #2a2a2a;
            --text-primary: #ffffff;
            --text-secondary: #b0b0b0;
            --accent-primary: #00ff88;
            --accent-secondary: #00ccff;
            --accent-danger: #ff3366;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        header {
            text-align: center;
            margin-bottom: 50px;
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 15px;
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .subtitle {
            color: var(--text-secondary);
            font-size: 1.2rem;
        }

        .progress-overview {
            background: var(--bg-secondary);
            border-radius: 16px;
            padding: 30px;
            margin-bottom: 40px;
            border: 2px solid rgba(0, 255, 136, 0.2);
        }

        .progress-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            text-align: center;
            padding: 20px;
            background: var(--bg-tertiary);
            border-radius: 12px;
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: 800;
            color: var(--accent-primary);
            display: block;
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        .days-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
            gap: 15px;
            margin-top: 30px;
        }

        .day-card {
            aspect-ratio: 1;
            background: var(--bg-tertiary);
            border: 2px solid var(--border-color);
            border-radius: 12px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
        }

        .day-card:hover {
            transform: translateY(-3px);
        }

        .day-card.completed {
            background: rgba(0, 255, 136, 0.2);
            border-color: var(--accent-primary);
        }

        .day-card.failed {
            background: rgba(255, 51, 102, 0.2);
            border-color: var(--accent-danger);
        }

        .day-card.current {
            border-color: var(--accent-secondary);
            box-shadow: 0 0 20px rgba(0, 204, 255, 0.4);
            animation: pulse 2s infinite;
        }

        .day-number {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .day-icon {
            font-size: 1.5rem;
        }

        .missions-section {
            background: var(--bg-secondary);
            border-radius: 16px;
            padding: 30px;
            margin-bottom: 30px;
        }

        .missions-section h2 {
            margin-bottom: 20px;
            color: var(--accent-primary);
        }

        .mission-item {
            background: var(--bg-tertiary);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 15px;
            display: flex;
            align-items: start;
            gap: 15px;
            transition: all 0.3s;
        }

        .mission-item:hover {
            transform: translateX(5px);
            border-left: 4px solid var(--accent-primary);
        }

        .mission-checkbox {
            width: 24px;
            height: 24px;
            min-width: 24px;
            border: 2px solid var(--accent-primary);
            border-radius: 6px;
            cursor: pointer;
            position: relative;
        }

        .mission-checkbox.checked {
            background: var(--accent-primary);
        }

        .mission-checkbox.checked::after {
            content: '‚úì';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #000;
            font-weight: 700;
        }

        .mission-content {
            flex: 1;
        }

        .mission-title {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .mission-description {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        .mission-xp {
            padding: 4px 12px;
            background: rgba(0, 255, 136, 0.2);
            border-radius: 50px;
            font-size: 0.85rem;
            font-weight: 700;
            color: var(--accent-primary);
            white-space: nowrap;
        }

        .rewards-section {
            background: linear-gradient(135deg, rgba(106, 79, 240, 0.2), rgba(0, 255, 136, 0.1));
            border-radius: 16px;
            padding: 30px;
            text-align: center;
        }

        .rewards-section h2 {
            margin-bottom: 20px;
        }

        .rewards-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .reward-card {
            background: var(--bg-secondary);
            border-radius: 12px;
            padding: 25px;
        }

        .reward-icon {
            font-size: 3rem;
            margin-bottom: 10px;
        }

        .reward-name {
            font-size: 1.1rem;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .reward-desc {
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .btn-primary {
            padding: 15px 30px;
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
            color: #000;
            border: none;
            border-radius: 10px;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            text-transform: uppercase;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(0, 255, 136, 0.4);
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üî• Desafio 30 Dias</h1>
            <p class="subtitle">Torne-se um Trader Disciplinado</p>
        </header>

        <div class="progress-overview">
            <div class="progress-stats">
                <div class="stat-card">
                    <span class="stat-number" id="daysCompleted">0</span>
                    <span class="stat-label">Dias Completos</span>
                </div>
                <div class="stat-card">
                    <span class="stat-number" id="currentStreak">0</span>
                    <span class="stat-label">Sequ√™ncia Atual</span>
                </div>
                <div class="stat-card">
                    <span class="stat-number" id="totalXP">0</span>
                    <span class="stat-label">XP Ganho</span>
                </div>
                <div class="stat-card">
                    <span class="stat-number" id="progressPercent">0%</span>
                    <span class="stat-label">Progresso</span>
                </div>
            </div>

            <h3 style="margin-bottom: 15px;">Calend√°rio do Desafio</h3>
            <div class="days-grid" id="daysGrid"></div>
        </div>

        <div class="missions-section">
            <h2>‚úÖ Miss√µes do Dia</h2>
            <div id="missionsContainer"></div>
        </div>

        <div class="rewards-section">
            <h2>üéÅ Recompensas ao Completar</h2>
            <div class="rewards-grid">
                <div class="reward-card">
                    <div class="reward-icon">üèÜ</div>
                    <div class="reward-name">Badge √âpico</div>
                    <div class="reward-desc">"Desafiador" + 1500 XP</div>
                </div>
                <div class="reward-card">
                    <div class="reward-icon">üìú</div>
                    <div class="reward-name">Certificado</div>
                    <div class="reward-desc">Trader Disciplinado Certificado</div>
                </div>
                <div class="reward-card">
                    <div class="reward-icon">üëë</div>
                    <div class="reward-name">Tema Exclusivo</div>
                    <div class="reward-desc">"Wall Street" desbloqueado</div>
                </div>
                <div class="reward-card">
                    <div class="reward-icon">üåü</div>
                    <div class="reward-name">Status VIP</div>
                    <div class="reward-desc">Acesso a grupo exclusivo</div>
                </div>
            </div>
            <button class="btn-primary" style="margin-top: 30px;">Iniciar Desafio Agora</button>
        </div>
    </div>

    <script>
        const CHALLENGE_MISSIONS = [
            "Registrar pelo menos 1 trade completo",
            "Completar checklist pr√©-trade em todos os trades",
            "Fazer an√°lise p√≥s-trade com reflex√£o escrita",
            "Conversar com a IA Mentora sobre o dia",
            "Seguir todas as regras pessoais estabelecidas"
        ];

        function initializeChallenge() {
            const challenge = loadChallenge();
            renderDaysGrid(challenge);
            renderMissions(challenge);
            updateStats(challenge);
        }

        function loadChallenge() {
            const saved = localStorage.getItem('challenge30days');
            if (saved) {
                return JSON.parse(saved);
            }

            return {
                startDate: null,
                currentDay: 0,
                completedDays: 0,
                streak: 0,
                totalXP: 0,
                days: Array(30).fill().map((_, i) => ({
                    day: i + 1,
                    status: 'pending', // pending, completed, failed
                    missions: Array(5).fill(false),
                    date: null
                }))
            };
        }

        function saveChallenge(challenge) {
            localStorage.setItem('challenge30days', JSON.stringify(challenge));
        }

        function renderDaysGrid(challenge) {
            const grid = document.getElementById('daysGrid');
            grid.innerHTML = '';

            challenge.days.forEach((day, index) => {
                const card = document.createElement('div');
                card.className = `day-card ${day.status}`;
                
                if (index === challenge.currentDay) {
                    card.classList.add('current');
                }

                card.innerHTML = `
                    <div class="day-number">Dia ${day.day}</div>
                    <div class="day-icon">${getStatusIcon(day.status, index === challenge.currentDay)}</div>
                `;

                grid.appendChild(card);
            });
        }

        function getStatusIcon(status, isCurrent) {
            if (isCurrent) return 'üéØ';
            if (status === 'completed') return '‚úÖ';
            if (status === 'failed') return '‚ùå';
            return '‚è∏Ô∏è';
        }

        function renderMissions(challenge) {
            const container = document.getElementById('missionsContainer');
            const currentDay = challenge.days[challenge.currentDay];
            
            if (!currentDay) {
                container.innerHTML = '<p style="text-align: center; color: var(--text-secondary);">Desafio n√£o iniciado</p>';
                return;
            }

            container.innerHTML = '';

            CHALLENGE_MISSIONS.forEach((mission, index) => {
                const item = document.createElement('div');
                item.className = 'mission-item';
                item.innerHTML = `
                    <div class="mission-checkbox ${currentDay.missions[index] ? 'checked' : ''}" 
                         onclick="toggleMission(${index})"></div>
                    <div class="mission-content">
                        <div class="mission-title">${mission}</div>
                        <div class="mission-description">Miss√£o ${index + 1} de 5</div>
                    </div>
                    <div class="mission-xp">+${100 + index * 50} XP</div>
                `;
                container.appendChild(item);
            });
        }

        function toggleMission(index) {
            const challenge = loadChallenge();
            const currentDay = challenge.days[challenge.currentDay];
            
            currentDay.missions[index] = !currentDay.missions[index];

            // Check if all missions completed
            if (currentDay.missions.every(m => m)) {
                completeDayMissions(challenge);
            }

            saveChallenge(challenge);
            renderMissions(challenge);
        }

        function completeDayMissions(challenge) {
            const currentDay = challenge.days[challenge.currentDay];
            currentDay.status = 'completed';
            currentDay.date = new Date().toISOString();

            challenge.completedDays++;
            challenge.streak++;
            challenge.totalXP += 750; // Bonus for completing day

            // Check if challenge completed
            if (challenge.completedDays === 30) {
                challengeCompleted(challenge);
            } else {
                challenge.currentDay++;
            }

            saveChallenge(challenge);
            updateStats(challenge);
            renderDaysGrid(challenge);

            alert('üéâ Parab√©ns! Dia completo! +750 XP');
        }

        function challengeCompleted(challenge) {
            alert('üèÜ DESAFIO COMPLETO! Voc√™ √© um Trader Disciplinado! Badge √âpico + 1500 XP + Certificado desbloqueados!');
        }

        function updateStats(challenge) {
            document.getElementById('daysCompleted').textContent = challenge.completedDays;
            document.getElementById('currentStreak').textContent = challenge.streak;
            document.getElementById('totalXP').textContent = challenge.totalXP;
            document.getElementById('progressPercent').textContent = 
                Math.round((challenge.completedDays / 30) * 100) + '%';
        }

        // Initialize on load
        initializeChallenge();
    </script>
</body>
</html>
